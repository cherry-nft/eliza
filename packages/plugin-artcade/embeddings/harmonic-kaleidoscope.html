<!DOCTYPE html><html><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'><style>body{margin:0;padding:0;background:#111;overflow:hidden}canvas{display:block}</style></head><body><canvas id='canvas'></canvas><script>try{const canvas=document.getElementById('canvas');const ctx=canvas.getContext('2d');let width,height;const notes=[];const palette=['#ff6384','#36a2eb','#ffce56','#9966ff','#4bc0c0'];const audioCtx=new(window.AudioContext||window.webkitAudioContext)();const masterGain=audioCtx.createGain();masterGain.connect(audioCtx.destination);masterGain.gain.value=0.5;const oscillators={};function resize(){width=canvas.width=window.innerWidth;height=canvas.height=window.innerHeight}function playNote(freq){const osc=audioCtx.createOscillator();osc.type='sine';osc.frequency.value=freq;const gain=audioCtx.createGain();gain.connect(masterGain);osc.connect(gain);osc.start();gain.gain.setValueAtTime(0,audioCtx.currentTime);gain.gain.linearRampToValueAtTime(1,audioCtx.currentTime+0.01);gain.gain.linearRampToValueAtTime(0,audioCtx.currentTime+0.3);osc.stop(audioCtx.currentTime+0.3);return osc}function createNote(x,y,freq){const note={x,y,vx:Math.random()*4-2,vy:Math.random()*4-2,r:10,freq,osc:playNote(freq),color:palette[Math.floor(Math.random()*palette.length)]};notes.push(note)}function drawNote(note){ctx.beginPath();ctx.arc(note.x,note.y,note.r,0,2*Math.PI);ctx.fillStyle=note.color;ctx.fill()}function moveNote(note){note.x+=note.vx;note.y+=note.vy;if(note.x<note.r||note.x>width-note.r){note.vx*=-1}if(note.y<note.r||note.y>height-note.r){note.vy*=-1}}function detectCollisions(){for(let i=0;i<notes.length;i++){for(let j=i+1;j<notes.length;j++){const dx=notes[i].x-notes[j].x;const dy=notes[i].y-notes[j].y;const dist=Math.sqrt(dx*dx+dy*dy);if(dist<notes[i].r+notes[j].r){const freq1=notes[i].freq,freq2=notes[j].freq;const ratio=freq2/freq1;const newFreq=freq1*Math.pow(2,Math.round(Math.log2(ratio))/12);if(!oscillators[newFreq]){oscillators[newFreq]=playNote(newFreq)}notes[i].osc.stop();notes[j].osc.stop();notes[i].freq=notes[j].freq=newFreq;notes[i].osc=notes[j].osc=oscillators[newFreq];notes[i].color=notes[j].color=palette[Object.keys(oscillators).length%palette.length]}}}for(let i=notes.length-1;i>=0;i--){if(!audioCtx.currentTime){notes.splice(i,1)}}}function drawBackground(){ctx.fillStyle='rgba(0,0,0,0.1)';ctx.fillRect(0,0,width,height)}function render(){ctx.clearRect(0,0,width,height);drawBackground();for(const note of notes){drawNote(note);moveNote(note)}detectCollisions();requestAnimationFrame(render)}canvas.addEventListener('click',e=>{const rect=canvas.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;createNote(x,y,440*Math.pow(2,(Math.random()*2-1)*6/12))});resize();requestAnimationFrame(render);window.addEventListener('resize',resize)}catch(err){console.error(err)}</script></body></html>